ENUNCIADO:

2) Programar a interface serial do 8051 para enviar os carac-
teres de 41H a 61H de forma cíclica, utilizando a taxa de 62.5
kibi/s. Transmitir 8 bits de dados mais bit de paridade.





RESET 		EQU 00H
LTSERIAL	EQU 23H ; local tratador
STATE 		EQU 20H
			ORG RESET ;PC=0 depois de reset
			JMP INICIO
			
			ORG LTSERIAL
			CLR TI
			MOV STATE,#1H
			RETI
			
INICIO: 	MOV IE,#10010000B
			MOV SCON,#11000000B ;MODO 3
			MOV TMOD,#00100000B ;TIMER MODO 2
			MOV TH1,#0FFH ;TABELA MODO 3 PRECISA SER RECARREGADO COM FFH
			MOV TL1,#0FFH ;TABELA MODO 3 PRECISA SER RECARREGADO COM FFH
			MOV PCON,#80H ;10000000B SMOD = '1'
			SETB TR1 ;COMEÇA A CONTAR O TIMER1
			MOV STATE,#0H ;PARA DEIXAR A LINHA PRESA ATE A INTERRUPCAO
			MOV R0, #STATE ;FAZ R0 APONTAR PARA STATE 
			MOV A, #41H ;COLOCA 41H EQUIVALENTE A LETRA A NA TABELA ASCII
			MOV C, P ;COLOCA O BIT DE PARIDADE NO CARRY
			MOV TB8, C ;COLOCA O BIT DE PARIDADE EM TB8 (NONO BIT DE TRANSMISSAO DO MODO 2 E 3)
			MOV SBUF, A ;COLOCA A EM SBUF PARA SAIR NA UART
VOLTA: 		CJNE @R0,#1,VOLTA 
			MOV STATE,#0H
			INC A ;INCREMENTA A PARA PROXIMAS LETRAS 
			MOV C,P ;JOGA O BIT DE PARIDADE PRO CARRY 
			MOV TB8, C ;JOGA O PARIDADE PRO TB8 NONO BIT DE TRANSMISSAO
			MOV SBUF,A ;JOGA A EM SBUF
			CJNE A,#61,VOLTA 
			MOV A, #40H
			JMP VOLTA
			END