Enunciado:

Modifique o programa anterior para mostrar o valor lido
das chaves (0h a Fh) conectadas a porta P2 (switch bank)
no display 0. O valor lido de chave aberta equivale a '1'
e de chave fechada '0'. Portanto, complemente (instrução 
CPL A) o valor lido de P2 antes de apresentá-lo à subro-
tina de conversão.




;Programa MOSTRA1.asm
CS 			EQU P0.7
END0		EQU P3.3
END1		EQU P3.4

			ORG 0H 
			CLR END0 ;END0 E END1 SÃO PARA ESCOLHER O DISPLAY QUE IREMOS MOSTRAR
			CLR END1 ;END0 E END1 = 00 ESTAMOS NO DISP0
			SETB CS ;FAZEMOS CS=1 PARA USAR O DECODER E PODER ACESSAR OS DISPLAYS
			MOV A, P2 ;PASSA O VALOR LIDO DAS CHAVES DA PORTA P2 PARA O ACC
			CPL A ; COMPLEMENTA PQ '0' É CHAVE FECHADA E '1' CHAVE ABERTA, E QUEREMOS O COMPLEMENTO
			CALL CONVERTE ;CHAMA A SUBROTINA CONVERTE, PARA CONVERTERMOS O VALOR DE P2 PARA O NUMERO A SER MOSTRADO NO DISP0
			MOV P1, A ;PASSA O VALOR DA TABELA PARA P1 PARA SER MOSTRADO NO DISP0
			JMP $
		
CONVERTE:	;INC A
			MOVC A, @A+PC ;APONTA NA TABELA A POSIÇÃO DE MEMÓRIA QUE PEGAREMOS O NUM, E PASSA O CONTEUDO
			RET ;RETORNA AO CODIGO PRINCIPAL
			
TABELA:		DB 40H, 79H, 24H, 30H, 19H,12H, 02H, 78H, 00H, 10H, 08H, 03H, 46H, 21H, 06H, 0EH
			END
				
;OBS: OS DISPLAYS ESTÃO LIGADOS A PORTA P1, TODOS, O QUE INDICA QUAL USAR SÃO OS BITS END0 E END1
;SEGUIDOS DO CS EM NIVEL LOGICO ALTO, PARA PODERMOS ACESSAR O DISP